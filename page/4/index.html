<!doctype html><html lang=zh-CN><head><title>世界的过客</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The HTML5 Herald"><meta name=author content="Jay Lau"><link rel=alternate type=application/rss+xml href=https://laujay.com/index.xml title=世界的过客><meta property="og:url" content="https://laujay.com/"><meta property="og:site_name" content="世界的过客"><meta property="og:title" content="世界的过客"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="世界的过客"><meta name=generator content="Hugo 0.126.3"><link rel="shortcut icon" href=https://laujay.com/img/favicon.ico><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://laujay.com/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=https://laujay.com/css/styles.css></head><body><div id=container><header><h1><a href=https://laujay.com/>世界的过客</a></h1><ul id=social-media><li><a href=https://github.com/lau-jay title=GitHub><i class="fab fa-github fa-lg"></i></a></li></ul><p><em>每个人获得的东西都恰好是他值得获得的东西</em></p></header><nav><ul><li><a href=https://laujay.com/about><i class="fa-li fa fa-lg"></i><span>About</span></a></li><li><a href=https://laujay.com/categories><i class="fa-li fa fa-lg"></i><span>Categories</span></a></li><li><a href=https://laujay.com/tags><i class="fa-li fa fa-lg"></i><span>Tags</span></a></li></ul></nav><main><section id=home><ul><li class=first><h1><a href=https://laujay.com/posts/tornado-run-blocking-function/ title=Tornado执行阻塞函数>Tornado执行阻塞函数</a></h1><aside><ul><li><time class=post-date datetime=2018-04-18T09:32:17+08:00>Apr 18, 2018</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/tornado>#tornado</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/tornado-run-blocking-function/ title=Tornado执行阻塞函数><img src></a></div><p>使用Tornado时执行阻塞函数的姿势 很多人使用Tornado的姿势其实都是不对的，很多人都是知乎style地使用Tornado，当然这话是大佬说的。 我脑补了下才反应过来什么叫知乎style，其实就指用Tornado，但是代码里却很多阻塞的。Tornado的文档 guide里异步和非阻塞I/O节第二段就说了： 为了尽量减少并发连接造成的开销，Tornado使用了一种单线程事件循环的方式。 这就意味着所有的应用代码都应该是异步非阻塞的, 因为在同一时间只有一个操作是有效的.</p><a href=https://laujay.com/posts/tornado-run-blocking-function/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/deploy_and_using_https/ title=CentOS升级HTTPS>CentOS升级HTTPS</a></h1><aside><ul><li><time class=post-date datetime=2017-12-28T21:38:29+08:00>Dec 28, 2017</time></li><li>Categories:
<em><a href=https://laujay.com/categories/tool>tool</a></em></li><li><em><a href=https://laujay.com/tags/nginx>#nginx</a>
,
<a href=https://laujay.com/tags/https>#https</a></em></li><li>2 minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/deploy_and_using_https/ title=CentOS升级HTTPS><img src></a></div><p>升级https 最近需要将域名升级为https, 以满足安全性和一些第三方接口的要求。 目前的技术栈为前端VUE, 后端为Tornado。Tornado负责接口的实现。</p><a href=https://laujay.com/posts/deploy_and_using_https/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/pickle-error/ title="Pickle Error">Pickle Error</a></h1><aside><ul><li><time class=post-date datetime=2017-10-17T13:52:34+08:00>Oct 17, 2017</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/python>#python</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/pickle-error/ title="Pickle Error"><img src></a></div><p>Error Message cPickle.PicklingError: Can't pickle shell python3 -m trace -tg --ignore-dir /Library $1 bug code def process_way(): workers = 10 with futures.</p><a href=https://laujay.com/posts/pickle-error/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/blog-ci/ title="Blog Ci">Blog Ci</a></h1><aside><ul><li><time class=post-date datetime=2017-07-15T13:40:17+08:00>Jul 15, 2017</time></li><li>Categories:
<em><a href=https://laujay.com/categories/tool>tool</a></em></li><li><em><a href=https://laujay.com/tags/ci>#ci</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/blog-ci/ title="Blog Ci"><img src></a></div><p>比较早之前，我的博客用的是jeklly, 当时各种换插件和配置都很麻烦, 后来果断切到了hexo。 当时想要用CI来做博客的自动生成，也省得每次换电脑都要重新安装hexo，可惜当时搞岔了travis的配置，导致次生成静态页面后push到github的候就挂了。 于是一放就是几个月，这两天捡起来重新做，终于发现问题出在哪里了，于是记录下。</p><a href=https://laujay.com/posts/blog-ci/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/argparse/ title=Argparse>Argparse</a></h1><aside><ul><li><time class=post-date datetime=2016-12-09T22:19:43+08:00>Dec 9, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/stdlib>#stdlib</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/argparse/ title=Argparse><img src></a></div><p>argparse是一个命令行解析的标准库，通过参数可以根据add_argument()的action选项触发不同的action。
# arg-demo.py import argparse def get_args(): parser = argparse.</p><a href=https://laujay.com/posts/argparse/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/functools/ title=Functools>Functools</a></h1><aside><ul><li><time class=post-date datetime=2016-12-03T20:49:16+08:00>Dec 3, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/stdlib>#stdlib</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/functools/ title=Functools><img src></a></div><p>functools module functools 模块包含了非常多很有用的函数，甚至可以说是比较常用的。这些函数主要用于创建高阶函数、函数式编程和装饰器的函数和装饰器。</p><a href=https://laujay.com/posts/functools/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/collections/ title=Collections>Collections</a></h1><aside><ul><li><time class=post-date datetime=2016-11-29T23:35:32+08:00>Nov 29, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/stdlib>#stdlib</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/collections/ title=Collections><img src></a></div><p>collections module collections提供了些新类型：deque和defaultdict, namedtuple等。</p><a href=https://laujay.com/posts/collections/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/glob/ title=glob>glob</a></h1><aside><ul><li><time class=post-date datetime=2016-11-27T19:24:16+08:00>Nov 27, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/stdlib>#stdlib</a></em></li><li>One minute read</li></ul></aside><p>glob module glob通过匹配来查找文件，该模块暴露出来三个函数glob, iglob, escape</p><a href=https://laujay.com/posts/glob/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/requests-encoding/ title="Requests Encoding">Requests Encoding</a></h1><aside><ul><li><time class=post-date datetime=2016-08-24T20:48:15+08:00>Aug 24, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/python>python</a></em></li><li><em><a href=https://laujay.com/tags/requests>#requests</a>
,
<a href=https://laujay.com/tags/encoding>#encoding</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/requests-encoding/ title="Requests Encoding"><img src></a></div><p>问题 我一直以为按照meta去搞编码就ok了，然而事实上是然并卵。。例子之一是199IT的网页，看到meta charset=&ldquo;utf-8&rdquo; 在使用requests获取网页的时候，发现搞下来的中文文本都是乱码(response.</p><a href=https://laujay.com/posts/requests-encoding/>Read more…</a></li><li><h1><a href=https://laujay.com/posts/pyspider-docker-deployment/ title="Pyspider Docker Deployment">Pyspider Docker Deployment</a></h1><aside><ul><li><time class=post-date datetime=2016-07-18T11:37:52+08:00>Jul 18, 2016</time></li><li>Categories:
<em><a href=https://laujay.com/categories/tool>tool</a></em></li><li><em><a href=https://laujay.com/tags/docker>#docker</a></em></li><li>One minute read</li></ul></aside><div class=featured_image><a href=https://laujay.com/posts/pyspider-docker-deployment/ title="Pyspider Docker Deployment"><img src></a></div><p><h2 id=缘起>缘起</h2><p>最近在搞docker部署pyspider，pyspider是一个非常灵活用户友好的爬虫框架，基于该框架能够很容易写出可控的爬虫。
由于对docker不够熟悉，花了不少时间在解决部署问题上，很多地方纠结了蛮久的。写点笔记记录使用经历。
当然我最后还是没单机docker部署pyspider。。不过单机也用不着组件化。。</p><h2 id=首先将redis和postgresql启动>首先，将redis和postgresql启动</h2><pre><code># docker run --name postgres -v /data/postgres/:/var/lib/postgresql/data \
-d -p $LOCAL_IP:5432:5432 -e POSTGRES_PASSWORD=&quot;&quot; postgres
# docker run --name redis -d -p  $LOCAL_IP:6379:6379 redis
</code></pre></p><a href=https://laujay.com/posts/pyspider-docker-deployment/>Read more…</a></li></ul></section><ul class="pagination pagination-default"><li class=page-item><a href=https://laujay.com/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=https://laujay.com/page/3/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=https://laujay.com/ aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=https://laujay.com/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=https://laujay.com/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class="page-item active"><a aria-current=page aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=https://laujay.com/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=https://laujay.com/page/5/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=https://laujay.com/page/5/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></main><footer><h6>Copyright © 2016 ~ 2023 - Jay Lau|Theme by <a href=https://github.com/funkydan2/hugo-kiera>kiera</a> |
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://laujay.com/index.xml>Subscribe</a></h6></footer></div><script src=https://laujay.com/js/scripts.js></script></body></html>